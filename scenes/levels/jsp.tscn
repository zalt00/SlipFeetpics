[gd_scene load_steps=19 format=3 uid="uid://ck3sx3j6h1f1j"]

[ext_resource type="Material" uid="uid://dat0ph3l0ybgc" path="res://materials/breakable_white.tres" id="1_714qe"]
[ext_resource type="PackedScene" uid="uid://bjqcqg24t4o3" path="res://scenes/fps_player.tscn" id="1_g446a"]
[ext_resource type="Material" path="res://materials/unbreakable.tres" id="3_e7ntj"]
[ext_resource type="PackedScene" uid="uid://cd4gqcvmru1dc" path="res://scenes/emancipation_grid.tscn" id="3_gvil7"]
[ext_resource type="PackedScene" uid="uid://b14abfo1cgk2y" path="res://scenes/checkpoint.tscn" id="4_du13t"]
[ext_resource type="Script" path="res://scripts/AnimatableBody3D.gd" id="5_h5et7"]
[ext_resource type="Texture2D" uid="uid://bu3m7xi04a3ow" path="res://images/ARRAOW.png" id="6_baqsy"]
[ext_resource type="PackedScene" uid="uid://bnsttj046dcr3" path="res://scenes/lamp.tscn" id="7_ogdpm"]
[ext_resource type="PackedScene" uid="uid://cv72iacha7mej" path="res://scenes/music_updater.tscn" id="10_63560"]
[ext_resource type="PackedScene" uid="uid://cs85a4naor6kv" path="res://scenes/finish_gate.tscn" id="10_jjysl"]
[ext_resource type="AudioStream" uid="uid://mrebs40auciw" path="res://songs/spaceship2.wav" id="11_ifnuv"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lhuk6"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0.647059, 0, 0.670588, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.647059, 0, 0.670588, 1)

[sub_resource type="Sky" id="Sky_salpv"]
sky_material = SubResource("ProceduralSkyMaterial_lhuk6")

[sub_resource type="Environment" id="Environment_kidyq"]
background_mode = 2
sky = SubResource("Sky_salpv")

[sub_resource type="BoxShape3D" id="BoxShape3D_s0cb7"]
size = Vector3(5, 1, 5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k1xlx"]
albedo_color = Color(1, 0, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_erxpi"]
material = SubResource("StandardMaterial3D_k1xlx")
size = Vector3(5, 1, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_jlpek"]
size = Vector3(5, 1, 5)

[node name="Jsp" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_kidyq")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
material_override = ExtResource("1_714qe")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.65682, -5.66943)
size = Vector3(1, 0.249878, 12.3389)

[node name="CSGBox3D2" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.65682, -24.235)
size = Vector3(1, 0.249878, 12.3389)

[node name="CSGBox3D3" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.411021, -29.144)
size = Vector3(1, 2.74149, 6.52002)

[node name="CSGBox3D4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.729919, -0.868311, -37.6207)
size = Vector3(2.45984, 7.93147, 1.77625)

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.979, -3.5152, -38.6844)
size = Vector3(3.34184, 13.2252, 3.90369)

[node name="CSGBox3D12" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 81.5308, -9.72661, -35.7008)
size = Vector3(20.2414, 13.2252, 3.90369)

[node name="CSGBox3D19" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 87.9502, -20.5272, -22.1686)
size = Vector3(7.40264, 34.8263, 8.92709)

[node name="CSGBox3D20" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.701366, -0.553828, 0.448732, 0.466516, 0.832631, 0.298476, -0.538933, 0, 0.842349, 102.066, -9.94586, -25.4091)
size = Vector3(19.9377, 1.0489, 2.92165)

[node name="CSGBox3D15" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 110.455, 0.655952, -102.226)
size = Vector3(20.2414, 13.2252, 0.286318)

[node name="CSGBox3D16" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.15183, 0, 0.988407, 0, 1, 0, -0.988407, 0, -0.15183, 98.2616, 0.655952, -147.746)
size = Vector3(20.2414, 13.2252, 3.90369)

[node name="CSGBox3D18" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.999996, 0, 0.00277501, 0, 1, 0, -0.00277501, 0, -0.999996, 111.64, -5.95175, -127.581)
size = Vector3(20.2414, 7.12349, 3.90369)

[node name="CSGBox3D17" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.397452, 0, 0.917623, 0, 1, 0, -0.917623, 0, 0.397452, 123.899, 0.655952, -147.746)
size = Vector3(20.2414, 13.2252, 3.90369)

[node name="CSGBox3D21" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.999556, 0, -0.029788, 0, 1, 0, 0.029788, 0, 0.999556, 116.651, -4.91204, -202.834)
size = Vector3(20.2414, 44.9692, 2.41962)

[node name="CSGBox3D22" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 116.651, -15.3194, -216.067)
size = Vector3(20.2414, 15.4359, 23.2344)

[node name="CSGBox3D23" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -0.551762, -0.834001, 0, 0.834001, -0.551762, 119.254, -4.91151, -237.551)
size = Vector3(7.31615, 8.89715, 0.577974)

[node name="CSGBox3D24" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.00881373, 0.274303, -0.961603, 0.00755135, -0.961595, -0.274369, -0.999932, -0.00967964, 0.00640386, 118.792, -1.32048, -254.777)
size = Vector3(8.8695, 17.3754, 1.65032)

[node name="CSGBox3D25" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.00754919, 0.961528, 0.274604, 0.0538313, 0.274605, -0.960049, -0.998522, 0.00753471, -0.0538333, 116.501, 0.0731377, -255.518)
size = Vector3(7.31615, 12.0639, 0.577974)

[node name="CSGBox3D27" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.0114739, 0.907517, -0.419859, -0.00174756, -0.419904, -0.907567, -0.999933, -0.00967964, 0.00640386, 117.707, 0.435945, -273.697)
size = Vector3(7.31615, 14.1302, 0.577974)

[node name="CSGBox3D28" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.0070919, 0.94635, 0.323065, -0.00918745, 0.322998, -0.946355, -0.999933, -0.00967964, 0.00640386, 118.648, -1.47638, -280.453)
size = Vector3(6.15368, 12.4224, 0.577974)

[node name="CSGBox3D30" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.00652216, 0.0122381, -0.999904, 0.0096003, -0.999878, -0.0123002, -0.999933, -0.00967964, 0.00640386, 117.806, 0.414971, -295.58)
size = Vector3(6.57116, 12.5642, 1.25576)

[node name="CSGBox3D31" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.00897481, -0.994726, -0.102179, 0.00735915, -0.102115, 0.994746, -0.999933, -0.00967964, 0.00640386, 117.927, -5.9695, -306.856)
size = Vector3(13.912, 8, 7.58599)

[node name="CSGBox3D29" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.0113348, -0.695821, 0.718127, -0.00249523, 0.718151, 0.695883, -0.999933, -0.00967964, 0.00640386, 119.756, 1.8348, -282.16)
size = Vector3(7.31615, 12.1057, 0.577974)

[node name="CSGBox3D26" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.0028522, 0.329902, 0.944011, -0.0112503, 0.943966, -0.329852, -0.999933, -0.00967964, 0.00640386, 116.871, 2.47945, -272.023)
size = Vector3(3.37208, 9.24387, 3.94573)

[node name="CSGBox3D32" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(0.0252544, -0.0667444, 0.997451, 0.998335, 0.0534614, -0.0216994, -0.0518768, 0.996337, 0.0679834, 122.137, -4.60423, -263.675)
size = Vector3(4.52176, 8.16147, 3.94573)

[node name="CSGBox3D13" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 110.089, -6.25812, -56.0311)
size = Vector3(1.01246, 7.46822, 28.8751)

[node name="CSGBox3D14" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 0.694771, -0.719231, 0, 0.719231, 0.694771, 110.579, -3.57611, -79.7775)
size = Vector3(6.67408, 0.655795, 5.40164)

[node name="CSGBox3D7" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 39.6924, -10.0532, -36.6674)
size = Vector3(8.36174, 0.149239, 7.93768)

[node name="CSGBox3D8" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.119357, 0.992851, 0, -0.992851, -0.119357, 0, 0, 0, 1, 46.291, -10.0532, -36.3819)
size = Vector3(8.36174, 0.149239, 6.28574)

[node name="CSGBox3D10" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.119357, 0.992851, 0, -0.992851, -0.119357, 0, 0, 0, 1, 50.027, -10.0532, -36.3819)
size = Vector3(8.36174, 0.149239, 6.28574)

[node name="CSGBox3D6" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.3853, -1.20997, -33.2456)
size = Vector3(2.51035, 11.6855, 0.290588)

[node name="CSGBox3D9" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-0.999872, 0, 0.0159866, 0, 1, 0, -0.0159866, 0, -0.999872, 21.6719, -0.740486, -37.5495)
size = Vector3(2.51035, 10.7465, 0.290588)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.936574, 0.289094, -0.198124, 0, 0.565313, 0.824877, 0.350469, -0.772558, 0.529457, 0, 0, 4.97653)
light_color = Color(0.870588, 0.847059, 1, 1)
light_energy = 0.9
shadow_enabled = true

[node name="unbreakable" type="CSGCombiner3D" parent="."]
material_override = ExtResource("3_e7ntj")
use_collision = true

[node name="CSGBox3D6" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.43408, -1.05661, -38.8348)
size = Vector3(1.04318, 18.1424, 3.62347)

[node name="CSGBox3D9" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 7.43408, -1.05661, -33.3349)
size = Vector3(1.04318, 18.1424, 3.62347)

[node name="CSGBox3D7" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.729919, -0.813135, -38.6731)
size = Vector3(2.45984, 7.82111, 0.36676)

[node name="CSGBox3D8" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.3853, -2.74753, -32.8088)
size = Vector3(2.51035, 14.7606, 0.290588)

[node name="CSGBox3D10" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(-0.999872, 0, 0.0159866, 0, 1, 0, -0.0159866, 0, -0.999872, 21.6789, -2.74753, -37.9862)
size = Vector3(2.51035, 14.7606, 0.290588)

[node name="CSGBox3D12" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 58.8793, -14.0948, -36.2357)
size = Vector3(10.5539, 0.149239, 4.41679)

[node name="CSGBox3D18" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 59.6788, -14.0948, -23.366)
size = Vector3(1.64385, 0.149239, 17.4964)

[node name="CSGBox3D13" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 68.3626, -14.0948, -36.008)
size = Vector3(8.36174, 0.149239, 0.960644)

[node name="CSGBox3D14" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 103.146, -5.12942, -35.6606)
size = Vector3(15.5742, 0.149239, 0.960644)

[node name="CSGBox3D16" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(0.887526, -0.460758, 0, 0.460758, 0.887526, 0, 0, 0, 1, 94.1218, -5.60762, -35.6606)
size = Vector3(2.75439, 0.149239, 0.960644)

[node name="CSGBox3D15" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(0.0557169, 0, 0.998447, 0, 1, 0, -0.998447, 0, 0.0557169, 111.663, -5.12942, -44.4442)
size = Vector3(18.3457, 0.149239, 1.10776)

[node name="CSGBox3D17" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(0.0169812, 0, 0.999856, 0, 1, 0, -0.999856, 0, 0.0169812, 111.313, -5.12942, -152.333)
size = Vector3(30.6689, 0.149239, 5.86565)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 117.55, 0, -264.219)
radius = 7.51988
height = 73.9315

[node name="CSGCylinder3D2" type="CSGCylinder3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 117.55, 0, -264.38)
operation = 2
radius = 6.90234
height = 75.4172

[node name="CSGBox3D23" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 108.986, 4.55424, -236.856)
operation = 2
size = Vector3(20.2414, 5.5728, 3.86369)

[node name="CSGBox3D26" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 117.736, -5.83913, -271.963)
operation = 2
size = Vector3(73.4978, 6.01887, 28.6991)

[node name="CSGBox3D24" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 111.203, 7.67583, -249.521)
operation = 2
size = Vector3(20.2414, 5.5728, 3.86369)

[node name="CSGBox3D25" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 126.734, 7.67583, -270.055)
operation = 2
size = Vector3(20.2414, 5.5728, 3.86369)

[node name="CSGBox3D32" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(-0.00652216, 0.0122381, -0.999904, 0.0096003, -0.999878, -0.0123002, -0.999933, -0.00967964, 0.00640386, 119.783, 0.413385, -295.954)
size = Vector3(7.31615, 12.5803, 1.72636)

[node name="CSGBox3D33" type="CSGBox3D" parent="unbreakable"]
transform = Transform3D(-0.0112595, 0.942896, -0.332899, -0.00281586, -0.332948, -0.942941, -0.999933, -0.00967964, 0.00640386, 115.366, -2.38485, -272.503)
size = Vector3(4.31561, 4.3538, 0.577974)

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 110.204, -3.8128, -93.0229)

[node name="AnimatableBody3D" type="AnimatableBody3D" parent="Node3D" node_paths=PackedStringArray("player")]
script = ExtResource("5_h5et7")
player = NodePath("../../player")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/AnimatableBody3D"]
shape = SubResource("BoxShape3D_s0cb7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Node3D/AnimatableBody3D"]
mesh = SubResource("BoxMesh_erxpi")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Node3D/AnimatableBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -30)
visible = false
mesh = SubResource("BoxMesh_erxpi")

[node name="Area3D" type="Area3D" parent="Node3D/AnimatableBody3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/AnimatableBody3D/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.292755, -0.555847)
shape = SubResource("BoxShape3D_jlpek")

[node name="EmancipationGrid2" parent="." node_paths=PackedStringArray("player") instance=ExtResource("3_gvil7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 110.215, -2.42685, -69.897)
player = NodePath("../player")

[node name="checkpoint" parent="EmancipationGrid2" node_paths=PackedStringArray("player", "respawn_location") instance=ExtResource("4_du13t")]
player = NodePath("../../player")
respawn_location = NodePath("Node3D")

[node name="Node3D" type="Node3D" parent="EmancipationGrid2/checkpoint"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.803857, -0.260712)

[node name="EmancipationGrid" parent="." node_paths=PackedStringArray("player") instance=ExtResource("3_gvil7")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 38.9302, -9.97441, -36.591)
player = NodePath("../player")

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 71.2577, -6.61649, -36.124)
texture = ExtResource("6_baqsy")

[node name="lamp" parent="." instance=ExtResource("7_ogdpm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 111.743, 0.719026, -166.182)
already_on = true

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 116.68, 0, -245.401)
light_color = Color(1, 0, 1, 1)
shadow_enabled = true
omni_range = 13.3652

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 116.68, 0, -281.274)
light_color = Color(1, 0, 1, 1)
shadow_enabled = true
omni_range = 13.3652

[node name="player" parent="." node_paths=PackedStringArray("breakable", "unbreakable") instance=ExtResource("1_g446a")]
breakable = NodePath("../CSGCombiner3D")
unbreakable = NodePath("../unbreakable")
number_of_shots = 15
move_speed = [10.0, 10.0, 10.0, 10.0, 10.0]
friction_air = 1.0
gravity_multiplier = 0.9

[node name="finish_gate" parent="." node_paths=PackedStringArray("player") instance=ExtResource("10_jjysl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 117.891, -2.20894, -312.312)
player = NodePath("../player")
rank_times = Array[float]([90.0, 60.0, 40.0, 35.79])
lvl_id = 8

[node name="MusicUpdater" parent="." instance=ExtResource("10_63560")]
music = ExtResource("11_ifnuv")

[connection signal="body_entered" from="Node3D/AnimatableBody3D/Area3D" to="Node3D/AnimatableBody3D" method="_on_area_3d_body_entered"]
